\section{Introduction}
\label{sec:intro}

Many commercially deployed systems, such as Amazon Dynamo\cite{decandia2007dynamo}, sacrifices strong consistency properties for high availability and throughput, and low latency. This sacrifice is driven by the need of providing client applications with an ``always-on" experience. For example, a customer needs to manipulate items in the shopping cart without any latency, but it is usually acceptable to the customer if deleted items appear again due to conflicts or failures unless it is the final check-out. Another example may be a user trying to change his profile picture. Strong consistency is not required here because the user usually allows some time for the change to take effect. However, when a user places an order in that shopping cart, strong consistency is preferred. Similarly, when users change their privacy settings, they don't want their privacy to be different if somebody happens to hit a different node.

CRAQ\cite{terrace2009object} is a chain replication storage system which guarantees strong consistency, but it targets read-mostly workloads and cannot provide high write throughput and availability and low latency, as every write request needs to go through the head of the chain, and pass through every node, before returning.  Given inexpensive hardware, one can never guarantee strong consistency, high write throughput, high availability, and low latency at the same time. Based on this assumption, we ask the question: in terms of the performance, can we flexibly switch between CRAQ and Dynamo? Can we design a storage system which still supports $put()$ and $get()$ operations, but $put()$ accepts one more parameter - $consistency$? $consistency$ is a binary flag indicating whether the object being updated is strongly consistent or eventually consistent.

We call this such system CRAQamo, implying that it is a hybrid of CRAQ and Dynamo. Specifically, when the client application does not require consistency guarantees, like in a shopping cart, CRAQamo only supports eventual consistency. When the client application requires strong consistency, for example, the customer's list of orders, CRAQamo sacrifices write latency to guarantee strong consistency. CRAQamo is not a system which simply runs CRAQ and Dynamo in parallel, because each of these two systems have their own arrangements of nodes, failure detection and recovery strategies, and data would be difficult to share between the systems. CRAQamo merges them into a single system for maximal efficiency, and ease of use.

